<section class="filter-container">
  <div class="keyword-analysis">
    <button class="keyword-analysis-run"
            (click)="toKeywordAnalysis()"
    >키워드분석</button>
    <div class="helper">
      <span class="arrow-box">검색어 "{{ getSearchKeyword }}" 에 대한 키워드 분석을 제공합니다.</span>
    </div>
    <button
      class="research-result-mobile-run"
      (click)="selectSearchFilter()"
    >검색필터</button>
  </div>
  <div class="outline">
    <div [ngClass]="isSelectSearchFilter ? 'filter on' : 'filter'">
      <div class="title-box">
        <h1>검색필터</h1>
      </div>
      <section>
        <h2>
          검색필터<img
          (click)="resetFilters()"
          class="reset-btn"
          src="../../../../../assets/icons/reset-filter.png"
          alt="filter-reset"
        />
        </h2>
      </section>
      <section class="keyword-search">
        <h3>결과 내 재검색</h3>
        <div class="input-container">
          <div class="text-inputs">
            <input
              type="text"
              placeholder="키워드 포함"
              (change)="mustKeyword($event)"
              />
            <input
              type="text"
              (change)="mustNotKeyword($event)"
              placeholder="키워드 제외"/>
          </div>
       <!--   <button
            (click)="selectKeywords($event)"
            class="search-btn"></button>-->
        </div>
      </section>
      <section class="date-range">
        <h3>기간</h3>
        <div class="date-range-container">
          <button
            (click)="selectDate($event)"
            [ngStyle]="selectedStyleObject(selectedDate === '1일')"
          >1일</button>
          <button
            (click)="selectDate($event)"
            [ngStyle]="selectedStyleObject(selectedDate === '1주')"
          >1주</button>
          <button
            (click)="selectDate($event)"
            [ngStyle]="selectedStyleObject(selectedDate === '1개월')"
          >1개월</button>
          <button
            (click)="selectDate($event)"
            [ngStyle]="selectedStyleObject(selectedDate === '3개월')"
          >3개월</button>
          <button
            (click)="selectDate($event)"
            [ngStyle]="selectedStyleObject(selectedDate === '6개월')"
          >6개월</button>
          <button
            (click)="selectDate($event)"
            [ngStyle]="selectedStyleObject(selectedDate === '1년')"
          >1년</button>
          <button
            (click)="selectDate($event)"
            [ngStyle]="selectedStyleObject(selectedDate === '전체')"
          >전체</button>
        </div>

        <div class="date-input">
          <p>직접입력
            <button
            (click)="selectDate($event)"
            [ngStyle]="selectedStyleObject(selectedDate === '확인')"
            class = datepicker-btn
          > 확인 </button>
          </p>
          <input type="date" value="startDate" (change)="setDatePickerStartDate($event)"/>
          <input type="date" value="endDate" (change)="setDatePickerEndDate($event)"/>
        </div>
      </section>
      <section class="inst">
        <h3>기관별</h3>
        <div class="inst-button-container">
          <button
            *ngFor="let inst of institutionList"
            [ngStyle]="selectedStyleObject(selectedInst === inst.key)"
            id="inst"
            (click)="selectInst(inst)"
          >
            {{ inst["key"] }} {{ inst["doc_count"] }}
          </button>
        </div>
      </section>
      <section class="topics">
        <h3>주제별</h3>
        <div class="topics-container">
          <button
            *ngFor="let cat of topics; let i = index"
            [ngStyle]="selectedStyleObject(selectedTp === cat)"
            id="topic"
            (click)="selectTopic($event)"
          >
            {{ cat }}
          </button>
        </div>
      </section>
      <div class="confirm-cancel-btn">
        <button
          class="confirm-btn"
          id="confirm"
        >확인</button>
        <button
          class="cancel-btn"
          id="cancel"
        >취소</button>
      </div>
      <a
        class="close"
        (click)="selectSearchFilter()"
      ></a>
    </div>
  </div>
</section>
