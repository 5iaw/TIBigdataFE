<section class="search-bar-container">
  <img
    (click)="gotoMain()"
    *ngIf="!isMain"
    src="../../../../assets/logos/logo_sub.png"
    style="cursor:pointer;"
    alt="kubic_logo"
    class="logo-img"
  />
  <img
    (click)="gotoMain()"
    *ngIf="isMain"
    src="../../../../assets/logos/logo_main.png"
    alt="main_logo"
    width="200px"
    class="logo-img"
  />

  <input
    class="search-bar"
    type="text"
    (keyup)="updateKeyword($event)"
    (keyup.enter)="search()"
    value="{{ searchKeyword }}"
  />
  <div class="search-filter-container">
    <div class="reset-filter">
      <span>{{'searchfilter'|translate}}</span>
      <img
        (click)="resetFilters()"
        class="reset-btn"
        src="../../../../assets/icons/reset-filter.png"
        alt="filter-reset"
      />
    </div>
    <button [ngStyle]="selectedStyleObject(isDateSelected)" type="button">
      {{ selectedDate }}
    </button>
    <div uk-dropdown="pos: bottom-justify">
      <ul class="uk-nav uk-dropdown-nav">
        <li *ngFor="let date of dateList" class = "date-list">
          <a
            class = "a-date"
            [ngStyle]="selectedStyleObject(selectedDate === date)"
            (click)="updateDate(date)"
          >{{ date }}</a>
        </li>
<!--        <li class="date-input">-->
<!--          <span> 직접입력 </span>-->
<!--          <input type="date" id="start-date" name="start-date" class="date" />-->
<!--          <input type="date" id="end-date" name="end-date" class="date" />-->
<!--        </li>-->
      </ul>
    </div>

    <button
      [ngStyle]="selectedStyleObject(isInstSelected)"
      type="button">{{'filter-org'|translate}}</button>
    <div uk-dropdown="pos: bottom-justify; boundary: '#inst';" class = "inst-dropdown">
      <ul class="uk-nav uk-dropdown-nav">
        <li>
          <a *ngFor="let inst of institutionList"
         [ngStyle]="selectedStyleObject(selectedInst === inst.key)"
         id="inst"
         (click)="selectInst(inst)"
        >{{ inst["key"] }} {{ inst["doc_count"] }}</a>
        </li>
      </ul>
    </div>

    <button [ngStyle]="selectedStyleObject(isTopicSelected)" type="button">
      {{ selectedTopic }}
    </button>
    <div uk-dropdown="pos: bottom-justify">
      <ul class="uk-nav uk-dropdown-nav">
        <li *ngFor="let topic of topicList">
          <a
            [ngStyle]="selectedStyleObject(selectedTopic === topic)"
            (click)="updateTopic(topic)"
            id="topic"
          >{{ topic }}</a>
        </li>
      </ul>
    </div>
    <!--
    <button type="button">상세검색</button>
    <div uk-dropdown="pos: bottom-justify">
      <ul class="uk-nav uk-dropdown-nav">
        <li class="uk-active"><a href="#">Active</a></li>
        <li><a href="#">Item</a></li>
        <li class="uk-nav-header">Header</li>
        <li><a href="#">Item</a></li>
        <li><a href="#">Item</a></li>
        <li class="uk-nav-divider"></li>
        <li><a href="#">Item</a></li>
      </ul>
    </div> -->
    <div class="search-helper">
      <span>검색도움말</span>
      <a href="#pop01">
        <img
          src="../../../../assets/icons/help-gray.png"
          alt="filter-reset"
        />
      </a>
    </div>

    <div id="pop01" class="overlay">
      <div class="popup">
        <a href="#none" class="close">&times;</a>
        <b>검색 도움말</b><br>
        <hr>
        <b>검색창 내 검색연산자 활용법</b><br>
        검색창 내 검색 연산자를 사용하여 더 정확한 검색 결과를 얻을 수 있습니다.<br>
        * 검색 연산자(AND,OR,NOT)는 대문자로 입력해야 합니다.<br>
        <br>
        <b>단어 중 1개 이상 포함</b><br>
        각 검색어 사이에 'OR'를 입력합니다.<br>
        <br>
        <b>다음단어 모두 포함</b><br>
        검색어 사이에 띄어쓰기(1칸), 'AND' 또는 '+'를 입력합니다.<br>
        <br>
        <b>정확히 일치하는 단어</b><br>
        단어/문구를 큰따옴표("") 안에 넣습니다.<br>
      </div>
    </div>

  </div>

  <div
    *ngIf="isKeyLoaded && relatedKeywords.length != 0"
    class="related-keywords-container"
  >
    <p>연관검색어</p>
    <ul class="keyword-list">
      <li *ngFor="let keyword of relatedKeywords">
        <a (click)="relatedSearch(keyword)">{{ keyword }}</a>
      </li>
    </ul>
  </div>
<!--mobile relatedKeywords-->
  <div
    *ngIf="isKeyLoaded && relatedKeywords_mobile.length != 0"
    class="related-keywords-container-mobile"
  >
    <p>연관검색어</p>
    <ul class="keyword-list-mobile">
      <li *ngFor="let keyword of relatedKeywords_mobile">
        <a (click)="relatedSearch(keyword)">{{ keyword }}</a>
      </li>
    </ul>
  </div>
</section>
